---
schema:
  author:
  - 蒼頡發明人 朱邦復先生
  - 鯨魚輸入法 發明人 臺灣之子

  dependencies:
  #- xiapin
  #- pinyin
  #- liur
  #- cangjie6liu
  #- luna_pinyin

  descqqqription: "鯨魚舞倉頡輸入法\n【鯨魚】輸入法 + 嘸蝦米 字根 \nhttp://www.geocities.ws/mycj3/content.html\n倉頡字母
    \   倉    嘸\n日（日）    A    D(Day)\n月（月）    B    M( 英文moon )\n金（金）    C    A( 蝦米根)\n木（木）
    \   D    T(tree)\n水（水）    E    W(water)\n火（火）    F    F(fire)\n土（土）    G    Y\n竹（斜）
    \   H    Z\n戈（點）    I    *L (重碼)\n十（交）    J    J \n大（叉）    K    *X( 以叉 為字根) \n中（縱）
    \   L    *I( 以緃為字根)\n一（橫）    M    E\n弓（勾）    N    *K(重碼 模糊音)\n人（人）    O    B\n心（心）
    \   P    H\n手（手）    Q    *S(重碼 模糊音)\n口（口）    R    O\n尸（側）    S    C\n廿（并）    T
    \   R\n山（仰）    U    *U(重碼 倉頡字根)\n女（紐）    V    G\n田（方）    W    Q\n難）糸      X    *N(
    重碼  / 鯨魚輸入法 為\"糸\"\n卜（卜)     Y    P\n符  魚      Z    *V (重碼   / 鯨魚輸入法為 魚\n    虫
    \     ,             ( 鯨魚輸入法)\n    羊      ;              (鯨魚輸入法)\n"
  name: 鯨魚舞倉頡
  schema_id: whaleliu
  version: "0.1"
abc_segmentor:
  extra_tags:
#  - reverse_lookup
engine:
  filters:
  - simplifier
  - uniquifier
  - single_char_filter
  - reverse_lookup_filter@pinyin_reverse_lookup
  - reverse_lookup_filter@liur_reverse_lookup
  - reverse_lookup_filter@cj6liu_reverse_lookup
  processors:
  - ascii_composer
  - recognizer
  - key_binder
  - speller
  - punctuator
  - selector
  - navigator
  #- fluid_editor
  #  結束暫存不上屏 
  - express_editor
  segmentors:
  - ascii_segmentor
  - matcher
  - abc_segmentor
  - affix_segmentor@pinyin
  - affix_segmentor@liur
  - affix_segmentor@cj6liu
  - affix_segmentor@pinyin_lookup
  - affix_segmentor@liur_lookup
  - affix_segmentor@cj6liu_lookup
  - affix_segmentor@reverse_lookup
  - punct_segmentor
  - fallback_segmentor 
  translators:
  - punct_translator
#  - reverse_lookup_translator
  - table_translator
  - script_translator@pinyin
  - table_translator@liur
  - table_translator@cj6liu
  - script_translator@pinyin_lookup
  - table_translator@liur_lookup
  - table_translator@cj6liu_lookup
key_binder:
  import_preset: default
  bindings:
  - when: has_menu
    accept: period
    send: 3
  - when: has_menu
    accept: Tab
    send: Page_Down
  - when: has_menu
    accept: Shift+Tab
    send: Page_Up
  - when: has_menu
    accept: "-"
    send: 2
  - when: has_menu
    accept: "="
    send: Up
  - when: has_menu
    accept: "/"
    send: Down

punctuator:
  import_preset: symbols

recognizer:
  import_preset: default
  patterns:
    punct: "^/([0-9]0?|[A-Za-z]+)$"
    #pinyin: "(?<!`)P[a-z]*?$"
    pinyin: "(?<!`)P[a-z]*?$"
    #liur: "(?<!`)L[a-z]*?$"
    liur: "^L[a-z',.;]*?$"
    cj6liu: "(?<!`)C[a-z]*?$"
    pinyin_lookup: "`P[a-z]*?$|[a-z]+P'$"
    liur_lookup: "`L[a-z',.;]*'?$|[a-z',.;]+L'$"
    cj6liu_lookup: "`C[a-z]*'?$|[a-z]+C'$"
    reverse_lookup: "`[a-z]*'?$|[a-z]+'$"

translator:
  dictionary: &dict 
    whaleliu.extended
  tips:  &ttips 
    "【鯨舞倉】"
  closing_tips: &ctips
     "【鯨舞倉】"
  suffix: "'"
  comment_format: &dict_fmt
  #- xform/([a-z])/\1\U\1/
  #- xlit|abcdefghijklmnopqrstuvwxyz[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
  - xlit|dmatwfyzljxiekbhsocrugqnpv[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
  #disable_user_dict_for_patterns: 
  enable_charset_filter: false
  enable_encoder: false
  enable_sentence: false
  enable_user_dict: false
  preedit_format: *dict_fmt
  #- derive/([a-z])/\1\U\1/
  #- xlit|dmatwfyzljxiekbhsocrugqnpv[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
  #- xlit|abcdefghijklmnopqrstuvwxyz[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
#    - "xlit|abcdefghijklmnopqrstuvwxyz|dmatwfyzljxiekbhsocrugqnpv|"
#  - xform/^([a-z]*)$/$1\t（\U$1\E）/
#  - xlit|DMATWFYZLJXIEKBHSOCRUGQNPV[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|

pinyin:
  tag: pinyin
  dictionary: &pinyin_dict
    luna_pinyin
  prefix: P
# 漢語拼音輸入以〔大寫〕「P」引導
  suffix: &suffix_char
    "'"
      #*suufix_char
  preedit_format: &pinyin_preedit
    - xform/([nl])v/$1ü/
    - xform/([nl])ue/$1üe/
    - xform/([jqxy])v/$1u/
  tips: 【漢拼】
  closing_tips: *ctips 
  initial_quality: 0.2	# 調整該編譯器出字優先度


pinyin_lookup:
  tag: pinyin_lookup
  dictionary: *pinyin_dict 
  preedit_format: *pinyin_preedit
  comment_format: &rcomment
    - xform/$/〕/
    - xform/^/〔/
    #- xform/([a-z]/\1\U\1/)
    - xlit|dmatwfyzljxiekbhsocrugqnpv[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
  #- xlit|dmatwfyzljxiekbhsocrugqnpv[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
  prefix: "`P"
# 獨用漢語拼音反查在反查鍵「`」之後再鍵入〔大寫〕「P」
  suffix: *suffix_char 
  preedit_format: &pinyan_preedit 
  tips: 【漢拼反查】
  closing_tips: &ctips 
pinyin_reverse_lookup:
  tags: [ pinyin_lookup ]
  dictionary: *dict
  overwrite_comment: true  # 覆蓋其他提示
  comment_format: *rcomment 
  #preedit_format: *pinyin_preedit
liur:
  tag: liur
  dictionary: &liur_dict
    liur.extended
  prefix: "L"
# 漢語拼音輸入以〔大寫〕「P」引導
  suffix: *suffix_char
  preedit_format: &liur_comment
    - xlit|abcdefghijklmnopqrstuvwxyz|ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ|
  comment_format: *liur_comment
    #- xlit|abcdefghijklmnopqrstuvwxyz|ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ|
  tips: 【liur】
  closing_tips: *ctips
  initial_quality: 0.2	# 調整該編譯器出字優先度

liur_lookup:
  tag: liur_lookup
  dictionary: *liur_dict
  prefix: "`L" 
  suffix: *suffix_char
  tips: 【liur反查】
  closing_tips: *ctips 
  preedit_format: *liur_comment
  #comment_format:      #*rcomment 
    #- xform/$/〕/
    #- xform/^/〔/
    #- xform/([a-z]/\1\U\1/)
    #- xlit|dmatwfyzljxiekbhsocrugqnpv[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
liur_reverse_lookup:
  tags: [ liur_lookup ]
  dictionary: *dict 
  comment_format: *rcomment    
    #- xform/$/〕/
    #- xform/^/〔/
    #- xlit|dmatwfyzljxiekbhsocrugqnpv[];,|日月金木水火土竹戈十大中一弓人心手口尸廿山女田糸卜魚左右虫羊|
  overwrite_comment: true  # 覆蓋其他提示
  #preedit_format: *liur_comment

cj6liu:
  tag: cj6liu
  dictionary: &cj6liu_dict
    cangjie6liu.extended
  prefix: C
# 漢語拼音輸入以〔大寫〕「P」引導
  suffix: *suffix_char
  preedit_format: &cj6_comment
    - xlit|dmatwfyzljxiekbhsocrugqnpv |日月金木水火土竹戈十大中一弓人心手口尸廿山女田止卜片、|
  comment_format: *cj6_comment
  tips: 【舞頡】
  closing_tips: *ctips 
  initial_quality: 0.2	# 調整該編譯器出字優先度


  
cj6liu_lookup: 
  tag: cj6liu_lookup
  dictionary: *cj6liu_dict
  preedit_format: *cj6_comment
    #- xlit|dmatwfyzljxiekbhsocrugqnpv|日月金木水火土竹戈十大中一弓人心手口尸廿山女田止卜片、|
  comment_format: *rcomment
  prefix: "`C" 
  suffix: *suffix_char 
  tips: 【cj6反查】
  closing_tips: *ctips  
  
cj6liu_reverse_lookup:
  tags: [ cj6liu_lookup ]
  dictionary: *dict 
  overwrite_comment: true  # 覆蓋其他提示
  comment_format: *rcomment
  #preedit_format: *cj6_comment
  

reverse_lookup:
  tag: reverse_lookup
  #dictionary: whaleliu
  prefix: "`"
  suffix: *suffix_char
  tips: 【反查】
  closing_tips: *ctips
  extra_tags:
    - pinyin_lookup
    - liur_lookup
    - cj6liu_lookup     


simplifier:
  tips: all
speller:
  alphabet: abcdefghijklmnopqrstuvwxyz[];,.'
  delimiter: " '"
  #auto_select_pattern: "[a-z]+[CPL']"
  algebra:
    #- "xlit|abcdefghijklmnopqrstuvwxyz|dmatwfyzljxiekbhsocrugqnpv|"
switches:
- name: ascii_mode
  reset: 0
  states:
  - 中文
  - 西文
- name: full_shape
  states:
  - 半角
  - 全角
- name: simplification
  states:
  - 漢字
  - 汉字
- name: extended_charset
  states:
  - 常用
  - 增廣
- name: ascii_punct
  states:
  - "。，"
  - "．，"
